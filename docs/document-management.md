---
title: ドキュメント管理ガイドライン
description: 永続的ドキュメントと作業単位ドキュメントの管理方法
---

# ドキュメント管理ガイドライン

## ドキュメントの分類

### 1. 永続的ドキュメント（`docs/`）

アプリケーション全体の「何を作るか」「どう作るか」を定義する恒久的なドキュメント。
基本設計や方針が変わらない限り更新されない。

#### 初期設定済みドキュメント（テンプレートに含まれる）

| ファイル                  | 内容                                           |
| ------------------------- | ---------------------------------------------- |
| `testing-strategy.md`     | テスト戦略、TDD手法、テスト種別ガイド          |
| `document-management.md`  | ドキュメント管理ガイドライン（本ファイル）     |
| `diagram-guidelines.md`   | Mermaid/ASCII図表のベストプラクティス          |

#### `/kickoff` 実行時に作成されるドキュメント

| ファイル                    | 内容                                                                  |
| --------------------------- | --------------------------------------------------------------------- |
| `product-requirements.md`   | プロダクトビジョン、ユーザーストーリー、受け入れ条件、機能/非機能要件 |
| `functional-design.md`      | 機能別アーキテクチャ、データモデル、ユースケース図、画面遷移図        |
| `architecture.md`           | テクノロジースタック、技術的制約、パフォーマンス要件                  |
| `repository-structure.md`   | フォルダ構成、ディレクトリの役割、ファイル配置ルール                  |
| `development-guidelines.md` | コーディング規約、命名規則、テスト規約、Git 規約                      |
| `glossary.md`               | ドメイン用語、ビジネス用語、英語/日本語対応表                         |

### 2. 作業単位ドキュメント（`.steering/`）

特定の開発作業における「今回何をするか」を定義する一時的なステアリングファイル。
作業完了後は参照用として保持。

#### ディレクトリ命名規則

```
.steering/[YYYYMMDD]-[開発タイトル]/
```

例:

-   `.steering/20250103-initial-implementation/`
-   `.steering/20250115-add-tag-feature/`
-   `.steering/20250120-fix-filter-bug/`

#### 必須ファイル

| ファイル               | 内容                                                             |
| ---------------------- | ---------------------------------------------------------------- |
| `requirements.md`      | 変更・追加する機能、ユーザーストーリー、受け入れ条件、制約事項   |
| `design.md`            | 実装アプローチ、変更コンポーネント、データ構造変更、影響範囲分析 |
| `tasklist.md`          | 具体的な実装タスク、進捗状況、完了条件                           |
| `decisions.md`（任意） | 議論内容、重要な決定事項の記録                                   |

## 管理の原則

### 永続的ドキュメント

-   アプリケーションの基本設計を記述
-   頻繁に更新されない
-   大きな設計変更時のみ更新
-   プロジェクト全体の大目標として機能

### 作業単位ドキュメント

-   特定の作業・変更に特化
-   作業ごとに新しいディレクトリを作成
-   作業完了後は履歴として保持
-   変更の意図と経緯を記録

## 機能追加・修正時の手順

### 1. 影響分析

永続的ドキュメント（`docs/`）への影響を確認。
変更が基本設計に影響する場合は `docs/` を更新。

### 2. ステアリングディレクトリ作成

```bash
mkdir -p .steering/[YYYYMMDD]-[開発タイトル]
```

### 3. 作業ドキュメント作成

各ドキュメント作成後、必ず確認・承認を得てから次に進む。

1. `requirements.md` - 要求内容
2. `design.md` - 設計
3. `tasklist.md` - タスクリスト

**重要**: 1 ファイルごとに作成後、必ず確認・承認を得てから次のファイル作成を行う。

### 4. 永続的ドキュメント更新（必要な場合のみ）

変更が基本設計に影響する場合、該当する `docs/` 内のドキュメントを更新。

### 5. 実装開始

`tasklist.md` に基づいて実装を進める。

### 6. 品質チェック

```bash
make check-all
```

## requirements.md テンプレート

```markdown
# [機能名] 要求定義

## 概要

[機能の簡潔な説明]

## ユーザーストーリー

-   As a [ユーザー種別], I want [機能] so that [目的]

## 受け入れ条件

-   [ ] [条件 1]
-   [ ] [条件 2]
-   [ ] [条件 3]

## 制約事項

-   [制約 1]
-   [制約 2]

## 関連ドキュメント

-   @docs/product-requirements.md
-   @docs/functional-design.md
```

## design.md テンプレート

```markdown
# [機能名] 設計

## 実装アプローチ

[選択したアプローチとその理由]

## 変更対象コンポーネント

| コンポーネント | 変更内容   |
| -------------- | ---------- |
| [component1]   | [変更内容] |
| [component2]   | [変更内容] |

## データ構造の変更

[変更がある場合は詳細を記載]

## 影響範囲

-   [影響 1]
-   [影響 2]

## 代替案の検討

| 案  | メリット | デメリット | 採否 |
| --- | -------- | ---------- | ---- |
| A   | ...      | ...        | ✅   |
| B   | ...      | ...        | ❌   |
```

## tasklist.md テンプレート

```markdown
# [機能名] タスクリスト

## 完了条件

-   [ ] 全テストがパス
-   [ ] make check-all が成功
-   [ ] ドキュメント更新完了

## タスク

### Phase 1: 準備

-   [ ] 影響範囲の調査
-   [ ] 既存テストの確認

### Phase 2: 実装

-   [ ] [具体的なタスク 1]
-   [ ] [具体的なタスク 2]
-   [ ] [具体的なタスク 3]

### Phase 3: テスト

-   [ ] 単体テスト作成
-   [ ] 統合テスト作成
-   [ ] 手動テスト実施

### Phase 4: 仕上げ

-   [ ] ドキュメント更新
-   [ ] コードレビュー対応
```

## 注意事項

-   ドキュメントの作成・更新は段階的に行い、各段階で承認を得る
-   `.steering/` のディレクトリ名は日付と開発タイトルで明確に識別
-   永続的ドキュメントと作業単位のドキュメントを混同しない
-   コード変更後は必ず `make check-all` を実施
